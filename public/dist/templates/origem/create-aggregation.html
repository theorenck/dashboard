<div class="header-area"><div class="row"><div class="col-sm-12"><h1>Agregação <small></small></h1></div></div></div><ul class="breadcrumb"><li><a href="#">Atlas</a></li><li><a href="origem">Origem</a></li><li class="active">Nova agregação</li></ul><div class="row"><div class="col-md-12"><form ng-submit="save()"><div class="well"><div class="row"><div class="col-md-12"><div class="row"><div class="col-md-6"><div class="form-group"><label class="control-label">Código</label><input type="text" class="form-control" ng-model="aggregation.code"></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Nome</label><input type="text" class="form-control" ng-model="aggregation.name"></div></div></div><div class="form-group"><label class="control-label">Origens</label><table class="table table-bordered table-striped table-editable"><thead><tr><th>#</th><th class="col-md-11">Nome</th><th class="col-md-05"></th></tr></thead><tbody><tr ng-repeat="(key, source) in aggregation.sources track by $index" ng-show="!source._destroy"><td><span class="form-control">{{$index}}</span></td><td><select class="form-control" ng-model="source.id" ng-options="s.id as s.name for s in sourceList"></select></td><td class="text-center"><a href="#" ng-click="deleteSource(key)" class="btn-remove"><i class="fa fa-close"></i></a></td></tr></tbody></table><button class="btn btn-info" type="button" ng-click="addSource()">Adicionar fonte de dados</button></div><div class="form-group"><label class="control-label">Operações</label><div ng-repeat="execution in aggregation.executions track by $index | orderBy:'execution.order'" ng-show="!execution._destroy"><z-executions></z-executions></div><div class="clearfix"></div><button class="btn btn-info" type="button" ng-click="addOperation()">Adicionar operação</button></div><div class="form-group"><label class="control-label">Expressão de resultado</label><div class="input-group"><div class="input-group-addon"><z-checkbox ng-model="hasResult"></z-checkbox></div><input type="text" class="form-control" ng-model="aggregation.result" ng-disabled="!hasResult"></div></div></div></div></div><div class="row"><div class="col-md-12"><div class="pull-right"><button ng-click="cancelar()" type="button" class="btn btn-link">Voltar</button> <button type="button" ng-click="save()" class="btn btn-success">Salvar Agregação</button></div></div></div></form><br><br></div></div>