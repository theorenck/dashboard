(function(){var NumberHelpers;NumberHelpers=function(){function NumberHelpers(){}return NumberHelpers.number_to_currency=function(float,opts){var delimited,fixedWidth,result,sign,_delimiter,_precision,_ref,_ref1,_ref2,_ref3,_ref4,_separator,_unit,_unit_pos;return null==opts&&(opts={}),_precision=null!=(_ref=opts.precision)?_ref:2,_unit=null!=(_ref1=opts.unit)?_ref1:"$",_separator=null!=(_ref2=opts.separator)?_ref2:".",_delimiter=null!=(_ref3=opts.delimiter)?_ref3:",",_unit_pos=null!=(_ref4=opts.unit_position)?_ref4:"start",sign="",isNaN(float)?result=float:(float=parseFloat(float),0>float&&(sign="-"),fixedWidth=Math.abs(float).toFixed(_precision),delimited=NumberHelpers.number_with_delimiter(fixedWidth,{delimiter:_delimiter}),result=delimited.split(".").join(_separator)),"end"===_unit_pos?""+sign+result+_unit:""+sign+_unit+result},NumberHelpers.number_with_delimiter=function(float,opts){var decimal,integer,number,rgx,_delimiter,_ref,_ref1,_ref2,_separator;if(null==opts&&(opts={}),_separator=null!=(_ref=opts.separator)?_ref:".",_delimiter=null!=(_ref1=opts.delimiter)?_ref1:",",number=float.toString().split("."),integer=number[0],decimal=null!=(_ref2=number[1])?_ref2:"",decimal||(_separator=""),rgx=/(\d+)(\d{3})/,_delimiter)for(;rgx.test(integer);)integer=integer.replace(rgx,"$1"+_delimiter+"$2");return""+integer+_separator+decimal},NumberHelpers.number_with_precision=function(float,opts){var decimal,dlen,i,integer,multiple,newlen,num_array,num_lngth,number,rnd,rounded,significant,sigs,zcount,_delimiter,_precision,_ref,_ref1,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_separator,_significant,_skip_empty_fractionals,_strip_insignificant_zeros;for(null==opts&&(opts={}),_precision=null!=(_ref=opts.precision)?_ref:3,_delimiter=null!=(_ref1=opts.delimiter)?_ref1:",",_separator=null!=(_ref2=opts.separator)?_ref2:".",_significant=null!=(_ref3=opts.significant)?_ref3:!1,_strip_insignificant_zeros=null!=(_ref4=opts.strip_insignificant_zeros)?_ref4:!1,_skip_empty_fractionals=opts.strip_empty_fractional_parts,number=float.toString().split("."),integer=number[0],decimal=null!=(_ref5=number[1])?_ref5:"",rnd=_significant?_precision-integer.length:_precision,1>rnd&&(rnd=0),multiple=Math.pow(10,rnd),rounded=multiple>1?Math.round(float*multiple)/multiple:float,number=rounded.toString().split("."),integer=number[0],decimal=null!=(_ref6=number[1])?_ref6:"",decimal=parseFloat("0."+decimal).toFixed(_precision),decimal=decimal.toString().split("."),decimal=null!=(_ref7=decimal[1])?_ref7:"",number=1*(""+integer+"."+decimal),num_array=number.toString().split(""),num_lngth=num_array.length,i=0,sigs=0;num_lngth>i;)"."!==num_array[i]&&"0"!==num_array[i]&&sigs++,i++;if(_significant&&sigs>=_precision&&_precision>0&&(significant=1*number.toPrecision(_precision),significant=significant.toString().split("."),integer=significant[0],decimal=null!=(_ref8=significant[1])?_ref8:""),integer=NumberHelpers.number_with_delimiter(integer,{delimiter:_delimiter}),_strip_insignificant_zeros){for(dlen=decimal.length,newlen=dlen;newlen>0&&"0"===decimal[newlen-1];)newlen-=1;0===newlen?decimal="":newlen!==dlen&&(decimal=decimal.slice(0,newlen))}if(_skip_empty_fractionals){for(i=0,zcount=0,num_array=decimal.split(""),dlen=decimal.length;dlen>i;)"0"===num_array[i]&&zcount++,i++;zcount===dlen&&(decimal="")}return decimal||(_separator=""),""+integer+_separator+decimal},NumberHelpers.number_to_human=function(float,opts){var abs_float,denom,label,number,precise,_delimiter,_labels,_precision,_ref,_ref1,_ref10,_ref11,_ref12,_ref13,_ref14,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9,_separator,_significant,_space_label,_strip_insignificant_zeros;return null==opts&&(opts={}),_precision=null!=(_ref=opts.precision)?_ref:3,_separator=null!=(_ref1=opts.separator)?_ref1:".",_significant=null!=(_ref2=opts.significant)?_ref2:!0,_delimiter=null!=(_ref3=opts.delimiter)?_ref3:",",_strip_insignificant_zeros=null!=(_ref4=opts.strip_insignificant_zeros)?_ref4:!1,_space_label=opts.space_label===!1?"":" ",_labels={thousand:null!=(_ref5=null!=(_ref6=opts.labels)?_ref6.thousand:void 0)?_ref5:"Thousand",million:null!=(_ref7=null!=(_ref8=opts.labels)?_ref8.million:void 0)?_ref7:"Million",billion:null!=(_ref9=null!=(_ref10=opts.labels)?_ref10.billion:void 0)?_ref9:"Billion",trillion:null!=(_ref11=null!=(_ref12=opts.labels)?_ref12.trillion:void 0)?_ref11:"Trillion",quadrillion:null!=(_ref13=null!=(_ref14=opts.labels)?_ref14.quadrillion:void 0)?_ref13:"Quadrillion"},abs_float=Math.abs(float),abs_float<Math.pow(10,3)?(denom=1,label=!1):abs_float>=Math.pow(10,3)&&abs_float<Math.pow(10,6)?(denom=Math.pow(10,3),label=_labels.thousand):abs_float>=Math.pow(10,6)&&abs_float<Math.pow(10,9)?(denom=Math.pow(10,6),label=_labels.million):abs_float>=Math.pow(10,9)&&abs_float<Math.pow(10,12)?(denom=Math.pow(10,9),label=_labels.billion):abs_float>=Math.pow(10,12)&&abs_float<Math.pow(10,15)?(denom=Math.pow(10,12),label=_labels.trillion):abs_float>=Math.pow(10,15)&&(denom=Math.pow(10,15),label=_labels.quadrillion),number=float/denom,precise=NumberHelpers.number_with_precision(number,{precision:_precision,significant:_significant,delimiter:"Quadrillion"===label?"":_delimiter,separator:_separator,strip_insignificant_zeros:label?_strip_insignificant_zeros:!0}),label?""+precise+_space_label+label:precise},NumberHelpers.number_to_human_size=function(float,opts){var abs_float,denom,label,number,precise,_delimiter,_precision,_ref,_ref1,_ref2,_ref3,_ref4,_separator,_significant,_strip_insignificant_zeros;return null==opts&&(opts={}),_precision=null!=(_ref=opts.precision)?_ref:3,_separator=null!=(_ref1=opts.separator)?_ref1:".",_significant=null!=(_ref2=opts.significant)?_ref2:!0,_delimiter=null!=(_ref3=opts.delimiter)?_ref3:",",_strip_insignificant_zeros=null!=(_ref4=opts.strip_insignificant_zeros)?_ref4:!1,float>1e3&&(float/=1.024),float>1e6&&(float/=1.024),float>1e9&&(float/=1.024),float>1e12&&(float/=1.024),abs_float=Math.abs(float),abs_float<Math.pow(10,3)?(denom=1,label="Bytes"):abs_float>=Math.pow(10,3)&&abs_float<Math.pow(10,6)?(denom=Math.pow(10,3),label="KB"):abs_float>=Math.pow(10,6)&&abs_float<Math.pow(10,9)?(denom=Math.pow(10,6),label="MB"):abs_float>=Math.pow(10,9)&&abs_float<Math.pow(10,12)?(denom=Math.pow(10,9),label="GB"):abs_float>=Math.pow(10,12)&&abs_float<Math.pow(10,15)&&(denom=Math.pow(10,12),label="TB"),number=float/denom,precise=NumberHelpers.number_with_precision(number,{precision:_precision,significant:_significant,delimiter:_delimiter,separator:_separator,strip_insignificant_zeros:"Bytes"===label?!0:_strip_insignificant_zeros}),""+precise+" "+label},NumberHelpers.number_to_phone=function(number,opts){var first,last,lng,second,str,_area_code,_country_code,_delimiter,_extension,_ref,_ref1,_ref2,_ref3;return null==opts&&(opts={}),_area_code=null!=(_ref=opts.area_code)?_ref:!1,_delimiter=null!=(_ref1=opts.delimiter)?_ref1:"-",_country_code=null!=(_ref2=opts.country_code)?_ref2:!1,_extension=null!=(_ref3=opts.extension)?_ref3:!1,isNaN(number)?number:(str=number.toString(),lng=str.length,last=str.substr(lng-4,lng),8>lng?first=str.substr(0,3):(first=str.substr(0,3),second=str.substr(3,3),first=_area_code?"("+first+") "+second:""+first+_delimiter+second),_extension=_extension?" x "+opts.extension:"",_country_code=_country_code?"+"+_country_code+_delimiter:"",""+_country_code+first+_delimiter+last+_extension)},NumberHelpers.number_to_percentage=function(float,opts){var _delimiter,_precision,_ref,_ref1,_ref2,_ref3,_ref4,_separator,_significant,_strip_insignificant_zeros;return null==opts&&(opts={}),_precision=null!=(_ref=opts.precision)?_ref:3,_separator=null!=(_ref1=opts.separator)?_ref1:".",_significant=null!=(_ref2=opts.significant)?_ref2:!1,_delimiter=null!=(_ref3=opts.delimiter)?_ref3:"",_strip_insignificant_zeros=null!=(_ref4=opts.strip_insignificant_zeros)?_ref4:!1,isNaN(float)||(float=NumberHelpers.number_with_precision(float,{precision:_precision,significant:_significant,delimiter:_delimiter,separator:_separator,strip_insignificant_zeros:_strip_insignificant_zeros})),""+float+"%"},NumberHelpers}(),"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=NumberHelpers:window.NumberHelpers=NumberHelpers}).call(this);